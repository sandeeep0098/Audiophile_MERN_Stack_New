(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{996:function(e,t,r){Promise.resolve().then(r.bind(r,9741))},9741:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var a=r(9268),o=r(6006),s=r(6482),n=r.n(s),l=r(5846),c=r.n(l);r(5599);var i=r(4720),d=r(6394),m=r.n(d),u=r(2128),h=e=>{let{onSubmit:t}=e,r=(0,u.C)(e=>e.cart.products);(0,u.C)(e=>e.cart.totalQuantity);let o=(0,u.C)(e=>e.cart.totalAmount);(0,u.C)(e=>e.cart);let s=(o+50)*.18;return(0,a.jsx)("div",{className:"summary",children:(0,a.jsxs)("div",{className:"wrapper",children:[(0,a.jsx)("div",{className:"top",children:(0,a.jsx)("h6",{children:"Summary"})}),r.map(e=>(0,a.jsx)("div",{className:"center",children:(0,a.jsxs)("div",{className:"cartItem",children:[(0,a.jsxs)("div",{className:"left",children:[(0,a.jsx)(m(),{src:e.image.desktop,alt:"blackheadphones",className:"blackheadphones",width:100,height:100}),(0,a.jsx)("div",{className:"text-container",children:(0,a.jsxs)("h6",{children:[e.name.substring(0,4)," ",(0,a.jsx)("br",{}),(0,a.jsxs)("span",{children:["$",e.price]})]})})]}),(0,a.jsx)("div",{className:"right",children:(0,a.jsx)("div",{className:"quantity",children:"x".concat(e.quantity)})})]})})),(0,a.jsxs)("div",{className:"bottom",children:[(0,a.jsxs)("div",{className:"price-details",children:[(0,a.jsx)("div",{className:"price-details-container",children:(0,a.jsxs)("div",{className:"price-details-item",children:[(0,a.jsx)("h6",{children:"Total"}),(0,a.jsx)("h5",{children:"$".concat(o)})]})}),(0,a.jsx)("div",{className:"price-details-container",children:(0,a.jsxs)("div",{className:"price-details-item",children:[(0,a.jsx)("h6",{children:"Shipping"}),(0,a.jsx)("h5",{children:"$ 50"})]})}),(0,a.jsx)("div",{className:"price-details-container",children:(0,a.jsxs)("div",{className:"price-details-item",children:[(0,a.jsx)("h6",{children:"VAT (included)"}),(0,a.jsxs)("h5",{children:["$",s.toFixed(0)]})]})}),(0,a.jsx)("div",{className:"price-details-container",children:(0,a.jsxs)("div",{className:"price-details-item",children:[(0,a.jsx)("h6",{children:"Grand total"}),(0,a.jsxs)("h5",{className:"totalamount",children:["$",(o+s+50).toFixed(0)]})]})})]}),(0,a.jsx)("div",{className:"cart-buttons",children:(0,a.jsx)(i.default,{path:"/",type:"primary",className:"button",name:"Continue & Pay",handleClick:t})})]})]})})};r(5652);var p={src:"/_next/static/media/icon-order-confirmation.2e6d9ad0.svg",height:64,width:64,blurWidth:0,blurHeight:0},x=r(7226),j=e=>{let{modalHandler:t,orderDetailModal:r}=e,o=(0,u.C)(e=>e.cart.products),s=(0,u.C)(e=>e.cart.totalAmount),n=(0,u.C)(e=>e.cart.totalQuantity),l=n-1,c=(0,u.T)();return console.log(o),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"backdrop",children:(0,a.jsxs)("div",{className:"modal-container ".concat(r?"animation":""),children:[(0,a.jsx)(m(),{src:p,alt:"checkout"}),(0,a.jsxs)("h2",{children:["Than you ",(0,a.jsx)("br",{})," for your order"]}),(0,a.jsx)("p",{children:"You will receive an email confirmation shortly."}),(0,a.jsxs)("div",{className:"order-detail-container",children:[(0,a.jsx)("div",{className:"left",children:(0,a.jsxs)("div",{className:"product-container-details",children:[o.length>0&&(0,a.jsxs)("div",{className:"product-detail-top",children:[(0,a.jsx)(m(),{src:o[0].image.desktop,alt:o[0].slug,width:100,height:100}),(0,a.jsxs)("div",{className:"name-info",children:[(0,a.jsx)("h6",{className:"slug",children:o[0].name}),(0,a.jsxs)("p",{className:"price",children:["$",o[0].price]})]}),(0,a.jsxs)("div",{className:"quantity",children:["x",o[0].quantity]})]}),(0,a.jsx)("hr",{}),l>1&&(0,a.jsxs)("p",{className:"other-item-details",children:["and ",l," other item(s)"]})]})}),(0,a.jsx)("div",{className:"right",children:(0,a.jsxs)("div",{className:" total-price-container",children:[(0,a.jsx)("h4",{children:"Grand Total"}),(0,a.jsxs)("p",{children:["$",(s+(s+50)*.18+50).toFixed(0)]})]})})]}),(0,a.jsx)(i.default,{type:"primary",path:"/",name:"back to home",className:"button",handleClick:()=>{c(x.U.removeAllProducts())}})]})})})},y=()=>{let[e,t]=(0,o.useState)("cash"),[r,s]=(0,o.useState)(""),[l,i]=(0,o.useState)(!1),[d,m]=(0,o.useState)(""),[p,x]=(0,o.useState)(!1),[y,v]=(0,o.useState)(!1),[N,f]=(0,o.useState)(""),[g,S]=(0,o.useState)(""),[C,b]=(0,o.useState)(!1),[_,k]=(0,o.useState)(""),[G,E]=(0,o.useState)(!1),[F,I]=(0,o.useState)(""),[P,T]=(0,o.useState)(!1),[A,w]=(0,o.useState)(""),[B,D]=(0,o.useState)(!1),[O,q]=(0,o.useState)(""),[Q,J]=(0,o.useState)(!1),[H,M]=(0,o.useState)(""),[$,V]=(0,o.useState)(!1),[U,z]=(0,o.useState)(""),[L,W]=(0,o.useState)(!1),[Y,Z]=(0,o.useState)(!1);(0,u.T)();let X=""!==r.trim(),K=!X&&l,R=""!==d.trim()&&d.includes("@"),ee=!R&&p,et=""!==N.trim()&&N.length>=10&&/^[0-9]*$/.test(N),er=!et&&y,ea=""!==g.trim(),eo=""!==_.trim(),es=""!==F.trim(),en=""!==A.trim(),el=""!==O.trim(),ec=""!==H.trim(),ei=""!==U.trim(),ed=!1;(X&&R&&et&&ea&&eo&&es&&en||"cash"===e||"emoney"===e||el&&ec&&ei)&&(ed=!0);let em=async t=>{if(t.preventDefault(),i(!0),x(!0),v(!0),b(!0),E(!0),T(!0),D(!0),J(!0),V(!0),W(!0),X&&R&&et&&ea&&eo&&es&&en&&("emoney"!==e||el&&ec&&ei)){console.log("form submitted"),console.log("Entered Name:",r),console.log("Entered Email:",d),console.log("Entered Phone Number:",N),console.log("Entered Address:",g),console.log("Entered City:",_),console.log("Entered Zip Code:",F),console.log("entered payment method:",e),console.log("Entered Country:",A),console.log("Entered Card No:",O),console.log("Entered CVV:",H),console.log("Entered Card Holder Name:",U);try{let t=await fetch("http://silly-pithivier-838e11.netlify.app/api/useritems",{method:"POST",headers:{"content-type":"application/json"},mode:"cors",body:JSON.stringify({enteredName:r,enteredEmail:d,enteredPhoneNumber:N,enteredAddress:g,enteredCity:_,enteredZipCode:F,paymentMethod:e,enteredCountry:A,enteredCardNo:O,enteredCvv:H,enteredCardHolderName:U})});if(t.ok)console.log("Data submitted successfully to mongo db");else throw Error("Failed to create")}catch(e){console.log("Error submitting data:",e),console.log(e)}s(""),i(!1),m(""),x(!1),f(""),v(!1),S(""),b(!1),k(""),E(!1),I(""),T(!1),w(""),D(!1),q(""),J(!1),M(""),V(!1),z(""),W(!1),Z(!0)}},eu=e=>{t(e.target.value)},eh=K?"".concat(n().formGroup," ").concat(n().formGroupInvalid):n().formGroup,ep=ee?"".concat(n().formGroup," ").concat(n().formGroupInvalid):n().formGroup,ex=er?"".concat(n().formGroup," ").concat(n().formGroupInvalid):n().formGroup,ej=!ea&&C?"".concat(n().formGroup," ").concat(n().formGroupInvalid):n().formGroup,ey=!eo&&G?"".concat(n().formGroup," ").concat(n().formGroupInvalid):n().formGroup,ev=!es&&P?"".concat(n().formGroup," ").concat(n().formGroupInvalid):n().formGroup,eN=!en&&B?"".concat(n().formGroup," ").concat(n().formGroupInvalid):n().formGroup,ef="emoney"===e&&!el&&Q?"".concat(n().formGroup," ").concat(n().formGroupInvalid):n().formGroup,eg="emoney"===e&&!ec&&$?"".concat(n().formGroup," ").concat(n().formGroupInvalid):n().formGroup,eS="emoney"===e&&!ei&&L?"".concat(n().formGroup," ").concat(n().formGroupInvalid):n().formGroup;return(0,a.jsxs)(a.Fragment,{children:[Y&&ed&&(0,a.jsx)(j,{modalHandler:Z,orderDetailModal:Y}),(0,a.jsxs)("div",{className:n().wrapper,children:[(0,a.jsx)("div",{className:n().back_link,children:(0,a.jsx)(c(),{href:"/",className:n().link,onClick:()=>{window.history.back()},children:"Go Back"})}),(0,a.jsxs)("div",{className:n().wrapper_form,children:[(0,a.jsxs)("form",{method:"post",className:n().checkoutForm,onSubmit:em,children:[(0,a.jsxs)("div",{className:n().formSection,children:[(0,a.jsx)("h1",{children:"Checkout"}),(0,a.jsx)("h2",{children:"Billing Details"}),(0,a.jsxs)("div",{className:eh,children:[(0,a.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,a.jsx)("input",{type:"text",id:"name",placeholder:"Enter your name",onChange:e=>{s(e.target.value)},onBlur:()=>{i(!0)},value:r,name:"username"}),K&&(0,a.jsx)("p",{className:n().errorText,children:"Name must not be empty."})]}),(0,a.jsxs)("div",{className:ep,children:[(0,a.jsx)("label",{htmlFor:"email",children:"Email Address:"}),(0,a.jsx)("input",{type:"email",id:"email",placeholder:"Enter your email address",onChange:e=>{m(e.target.value)},onBlur:()=>{x(!0)},value:d,name:"email"}),ee&&(0,a.jsx)("p",{className:n().errorText,children:"Email must include @ and should not be empty."})]}),(0,a.jsxs)("div",{className:ex,children:[(0,a.jsx)("label",{htmlFor:"phone",children:"Phone No:"}),(0,a.jsx)("input",{type:"tel",id:"phone",placeholder:"Enter your phone number",value:N,onChange:e=>{f(e.target.value)},onBlur:()=>{v(!0)},name:"mobile_no"}),er&&(0,a.jsx)("p",{className:n().errorText,children:"Phone No Should Contain 10 digits"})]})]}),(0,a.jsxs)("div",{className:n().formSection,children:[(0,a.jsx)("h2",{children:"Shipping Info"}),(0,a.jsxs)("div",{className:ej,children:[(0,a.jsx)("label",{htmlFor:"address",children:"Address:"}),(0,a.jsx)("input",{type:"text",id:"address",placeholder:"Enter your address",onChange:e=>{S(e.target.value)},onBlur:()=>{b(!0)},value:g,required:!0,className:ej,name:"address"}),!ea&&C&&(0,a.jsx)("p",{className:n().errorText,children:"Address must not be empty."})]}),(0,a.jsxs)("div",{className:ey,children:[(0,a.jsx)("label",{htmlFor:"city",children:"City:"}),(0,a.jsx)("input",{type:"text",id:"city",placeholder:"Enter your city",onChange:e=>{k(e.target.value)},onBlur:()=>{E(!0)},value:_,required:!0,className:ey,name:"city"}),!eo&&G&&(0,a.jsx)("p",{className:n().errorText,children:"City must not be empty."})]}),(0,a.jsxs)("div",{className:ev,children:[(0,a.jsx)("label",{htmlFor:"zip",children:"Pin Code:"}),(0,a.jsx)("input",{type:"text",id:"zip",placeholder:"Enter your Pin code",onChange:e=>{I(e.target.value)},onBlur:()=>{T(!0)},value:F,required:!0,className:ev,name:"zip_code"}),!es&&P&&(0,a.jsx)("p",{className:n().errorText,children:"Pin code must not be empty"})]}),(0,a.jsxs)("div",{className:eN,children:[(0,a.jsx)("label",{htmlFor:"country",children:"Country:"}),(0,a.jsx)("input",{type:"text",id:"country",placeholder:"Enter your country",onChange:e=>{w(e.target.value)},onBlur:()=>{D(!0)},value:A,required:!0,className:eN,name:"country"}),!en&&B&&(0,a.jsx)("p",{className:n().errorText,children:"Country must not be empty."})]})]}),(0,a.jsxs)("div",{className:n().formSection,children:[(0,a.jsx)("h2",{children:"Payment Details"}),(0,a.jsxs)("div",{className:n().formGroup,children:[(0,a.jsx)("label",{children:"Payment Method:"}),(0,a.jsxs)("div",{className:n().paymentMethod,children:[(0,a.jsx)("input",{type:"radio",id:"cash",value:"cash",checked:"cash"===e,onChange:eu,name:"cod"}),(0,a.jsx)("label",{htmlFor:"cash",children:"Cash on Delivery"}),(0,a.jsx)("input",{type:"radio",id:"emoney",value:"emoney",checked:"emoney"===e,onChange:eu,name:"emoney"}),(0,a.jsx)("label",{htmlFor:"emoney",children:"E-Money"})]}),"emoney"===e&&(0,a.jsxs)("div",{className:n().emoneyDetails,children:[(0,a.jsxs)("div",{className:ef,children:[(0,a.jsx)("label",{htmlFor:"cardno",children:"Enter Card No:"}),(0,a.jsx)("input",{type:"text",id:"cardno",placeholder:"Enter your card number",onChange:e=>{q(e.target.value)},onBlur:()=>{J(!0)},value:O,name:"card_no"}),!el&&Q&&(0,a.jsx)("p",{className:n().errorText,children:"Enter any dummy value"})]}),(0,a.jsxs)("div",{className:eg,children:[(0,a.jsx)("label",{htmlFor:"cvv",children:"CVV:"}),(0,a.jsx)("input",{type:"text",id:"cvv",placeholder:"Enter the CVV",onChange:e=>{M(e.target.value)},onBlur:()=>{V(!0)},value:H,name:"cvv"}),!ec&&$&&(0,a.jsx)("p",{className:n().errorText,children:"Enter any dummy value"})]}),(0,a.jsxs)("div",{className:eS,children:[(0,a.jsx)("label",{htmlFor:"cardHolderName",children:"Card Holder's Name:"}),(0,a.jsx)("input",{type:"text",id:"cardHolderName",placeholder:"Enter the card holder's name",onChange:e=>{z(e.target.value)},onBlur:()=>{W(!0)},value:U,name:"cardHolderName"}),!ei&&L&&(0,a.jsx)("p",{className:n().errorText,children:"Enter any dummy value"})]})]})]})]}),(0,a.jsx)("button",{type:"submit",onSubmit:em,children:"submit"})]}),(0,a.jsx)(h,{onSubmit:em})]})]})]})}},4720:function(e,t,r){"use strict";r.r(t);var a=r(9268);r(6006),r(7426);var o=r(5846),s=r.n(o);t.default=e=>{let{path:t,type:r,className:o,name:n,handleClick:l}=e;return(0,a.jsx)(s(),{href:t,className:"productLink ".concat("primary"===r?"primary":"dark"===r?"dark":"transparent"===r?"transparent":"primary"," ").concat(o),onClick:e=>{l&&l(e)},children:n||"See Product"})}},2128:function(e,t,r){"use strict";r.d(t,{C:function(){return s},T:function(){return o}});var a=r(6628);let o=a.I0,s=a.v9},7226:function(e,t,r){"use strict";r.d(t,{U:function(){return m}});var a=r(7539);let o=localStorage.getItem("cartProducts"),s=null!==o?JSON.parse(o):[],n=localStorage.getItem("totalQuantity"),l=null!==n?JSON.parse(n):0,c=localStorage.getItem("totalAmount"),i=null!==c?JSON.parse(c):0,d=(0,a.oM)({name:"cart",initialState:{products:s,totalQuantity:l,totalAmount:i},reducers:{addProductToCart(e,t){let r=t.payload,a=e.products.find(e=>e._id===r._id);e.totalQuantity++,e.totalAmount+=r.price,a?(a.quantity++,a.totalPrice+=r.price):e.products.push({_id:r._id,slug:r.slug,name:r.name,image:r.image,price:r.price,quantity:1,totalPrice:r.totalAmount}),localStorage.setItem("cartProducts",JSON.stringify(e.products.map(e=>e))),localStorage.setItem("totalQuantity",JSON.stringify(e.totalQuantity)),localStorage.setItem("totalAmount",JSON.stringify(e.totalAmount))},removeProductFromCart(e,t){let r=t.payload,a=e.products.find(e=>e._id===r);a&&(e.totalQuantity--,e.totalAmount-=a.price,1===a.quantity?e.products=e.products.filter(e=>e._id!==r):(a.quantity--,a.totalPrice-=a.price),localStorage.setItem("cartProducts",JSON.stringify(e.products.map(e=>e))),localStorage.setItem("totalQuantity",JSON.stringify(e.totalQuantity)),localStorage.setItem("totalAmount",JSON.stringify(e.totalAmount)))},removeAllProducts(e){e.products=[],e.totalQuantity=0,e.totalAmount=0,localStorage.removeItem("cartProducts"),localStorage.removeItem("totalQuantity"),localStorage.removeItem("totalAmount")}}}),m=d.actions;t.Z=d},7426:function(){},5599:function(){},5652:function(){},6482:function(e){e.exports={wrapper:"CheckoutForm_wrapper__DnWSU",wrapper_form:"CheckoutForm_wrapper_form__J0v8L",checkoutForm:"CheckoutForm_checkoutForm__IsT0N",formSection:"CheckoutForm_formSection__MU5vP",formGroup:"CheckoutForm_formGroup__HAM8H",formGroupInvalid:"CheckoutForm_formGroupInvalid__EBx20",paymentMethod:"CheckoutForm_paymentMethod__LTIYP",emoneyDetails:"CheckoutForm_emoneyDetails__Fb_41",back_link:"CheckoutForm_back_link__DDgmh",link:"CheckoutForm_link__cXoun",errorText:"CheckoutForm_errorText__gbDyE"}}},function(e){e.O(0,[201,881,253,961,744],function(){return e(e.s=996)}),_N_E=e.O()}]);